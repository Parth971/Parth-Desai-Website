[{"model": "blog.category", "pk": 1, "fields": {"name": "Python"}}, {"model": "blog.category", "pk": 2, "fields": {"name": "Pytest"}}, {"model": "blog.category", "pk": 3, "fields": {"name": "Coverage"}}, {"model": "blog.category", "pk": 4, "fields": {"name": "Django"}}, {"model": "blog.post", "pk": 1, "fields": {"author": 1, "title": "PYTEST AND COVERAGE IN DJANGO", "description": "To measure code coverage in Python, the coverage.py tool can be used. It provides several capabilities such as measuring statement coverage and branch coverage. Statement coverage measures which lines of code have been executed, while branch coverage goes a step further by tracking which branches or decision points within the code have been taken.", "image": "post/image/pytest_and_coverage_in_django.png", "body": "<style>\r\n        html,\r\n        body {\r\n            margin: 0;\r\n            padding: 0;\r\n            font-family: \"sans-serif\";\r\n        }\r\n\r\n        #content-wraper {\r\n            margin: 50px;\r\n        }\r\n\r\n        .main-heading h1 {\r\n            text-align: center;\r\n            font-size: 30px;\r\n            font-weight: 300;\r\n            color: #222;\r\n            letter-spacing: 1px;\r\n            text-transform: uppercase;\r\n\r\n            display: grid;\r\n            grid-template-columns: 1fr max-content 1fr;\r\n            grid-template-rows: 27px 0;\r\n            grid-gap: 20px;\r\n            align-items: center;\r\n        }\r\n\r\n        .main-heading h1:after,\r\n        .main-heading h1:before {\r\n            content: \" \";\r\n            display: block;\r\n            border-bottom: 1px solid #369f00;\r\n            border-top: 1px solid #369f00;\r\n            height: 5px;\r\n            background-color: #f8f8f8;\r\n        }\r\n\r\n        .indent {\r\n            margin-left: 50px;\r\n            margin-right: 50px;\r\n        }\r\n\r\n        .content .block {\r\n            padding-top: 20px;\r\n            padding-bottom: 20px;\r\n        }\r\n\r\n        .content .block {\r\n            background-color: rgba(240, 240, 240, 0.35);\r\n            margin-top: 10px;\r\n            margin-bottom: 10px;\r\n        }\r\n\r\n        .heading1 {\r\n            font-size: 28px;\r\n            padding: 10px 20px;\r\n            font-weight: 400;\r\n            color: #255e21;\r\n        }\r\n\r\n        .heading1::after {\r\n            content: \"\";\r\n            display: block;\r\n            border: 1px solid #2b7e007a;\r\n            height: 1px;\r\n        }\r\n\r\n        .contains-heading>li {\r\n            font-size: 20px;\r\n            padding: 5px 0;\r\n            font-weight: 400;\r\n        }\r\n\r\n        .explaination {\r\n            box-shadow: 0 0 15px 0 #2b7e007a;\r\n            padding: 10px;\r\n            margin: 10px 0;\r\n        }\r\n\r\n        .explaination .heading1 {\r\n            color: black;\r\n        }\r\n\r\n        .explaination .heading1::after {\r\n            border-bottom: 1px solid rgba(0, 0, 0, 0.5);\r\n        }\r\n\r\n        .explaination .block {\r\n            padding: 10px 20px;\r\n            margin: 0;\r\n        }\r\n\r\n        .nt {\r\n            font-size: 20px;\r\n            font-weight: 400;\r\n            text-align: justify;\r\n            padding-top: 10px;\r\n            padding-bottom: 15px;\r\n        }\r\n\r\n        .iw {\r\n            text-align: center;\r\n            margin: 10px 0;\r\n        }\r\n\r\n        .iw img {\r\n            border: 1px solid rgba(0, 0, 0, 0.3);\r\n        }\r\n\r\n        .note {\r\n            font-weight: 600;\r\n            margin-top: 20px;\r\n            font-size: 18px;\r\n        }\r\n\r\n        .divider {\r\n            border: 1px solid rgba(0, 0, 0, 0.3);\r\n            margin-top: 40px;\r\n            margin-bottom: 20px;\r\n        }\r\n\r\n        span.mark {\r\n            background-color: rgba(0, 0, 0, 0.8);\r\n            color: white;\r\n            border-radius: 5px;\r\n            padding: 3px 10px;\r\n        }\r\n\r\n        /* Code  */\r\n        .code-toolbar {\r\n            margin: 1em 0;\r\n            position: relative;\r\n            color: #4d5b7c;\r\n            font-size: 16px;\r\n        }\r\n\r\n        .code-toolbar>pre.script {\r\n            white-space: pre;\r\n        }\r\n\r\n        .code-toolbar>pre {\r\n            margin: 0;\r\n            background: #081b4b;\r\n            color: #fff;\r\n            border-radius: 16px;\r\n            display: block;\r\n            overflow: auto;\r\n            padding: 1em;\r\n            white-space: normal;\r\n            word-wrap: normal;\r\n            font-size: 14px;\r\n            line-height: 1.4em;\r\n        }\r\n\r\n        .code-toolbar code .token {\r\n            text-shadow: none;\r\n            background: transparent;\r\n            white-space: normal;\r\n            border-radius: 0;\r\n            color: inherit;\r\n            padding: 0;\r\n            font-size: 14px;\r\n            line-height: 1.4em;\r\n        }\r\n\r\n        pre.prefixed code ol {\r\n            list-style: none;\r\n            margin: 0;\r\n            padding: 0;\r\n        }\r\n\r\n        pre.prefixed code ol li {\r\n            margin: 0;\r\n            padding: 0;\r\n            box-sizing: border-box;\r\n        }\r\n\r\n        pre.prefixed code ol li:before {\r\n            content: attr(data-prefix);\r\n            display: inline-block;\r\n            margin: 0 10px 0 5px;\r\n            text-align: right;\r\n            -webkit-user-select: none;\r\n            -moz-user-select: none;\r\n            -ms-user-select: none;\r\n            user-select: none;\r\n            color: #fff;\r\n            box-sizing: border-box;\r\n        }\r\n\r\n        pre[class*=\"language-\"]>code .token.attr-value,\r\n        pre[class*=\"language-\"]>code .token.class-name,\r\n        pre[class*=\"language-\"]>code .token.function {\r\n            color: #ff4084;\r\n        }\r\n\r\n        pre[class*=\"language-\"]>code .token {\r\n            background: none;\r\n            border-radius: 0;\r\n            display: inline;\r\n            font-weight: 400;\r\n            margin: 0;\r\n            padding: 0;\r\n            text-shadow: none;\r\n        }\r\n    </style>\r\n<div class=\"container\">\r\n        <div class=\"row\">\r\n            <div class=\"col\">\r\n                <div id=\"content-wraper\">\r\n                    <div class=\"block\">\r\n                        <div class=\"main-heading\">\r\n                            <h1>Pytest and Coverage in Django</h1>\r\n                        </div>\r\n\r\n                        <div class=\"content\">\r\n                            <div class=\"\">\r\n                                <div class=\"block\">\r\n                                    <div class=\"heading1\">Coverage</div>\r\n                                    <div class=\"content\">\r\n                                        <div class=\"indent\">\r\n                                            <div class=\"nt\">\r\n                                                Its measurement is typically used to gauge the effectiveness of tests.\r\n                                                It\r\n                                                can show which parts of your code are being exercised by tests, and\r\n                                                which are not.\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div class=\"block\">\r\n                                    <div class=\"heading1\">Installing</div>\r\n                                    <div class=\"content\">\r\n                                        <div class=\"indent\">\r\n                                            <div class=\"code-toolbar\">\r\n                                                <pre class=\"prefixed command language-bash\">\r\n                                                    <code>\r\n                                                        <ol>\r\n                                                            <li data-prefix=\"$\"><span class=\"token function\">pip install</span> coverages</li>\r\n                                                        </ol>\r\n                                                    </code>\r\n                                                </pre>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div class=\"block\">\r\n                                    <div class=\"heading1\">Usage</div>\r\n                                    <div class=\"content\">\r\n                                        <div class=\"indent\">\r\n                                            <ol class=\"contains-heading\">\r\n                                                <li>\r\n                                                    <div>Run</div>\r\n                                                    <ul>\r\n                                                        <li>\r\n                                                            Statement\r\n                                                            coverage\r\n                                                            <div class=\"code-toolbar\">\r\n                                                                <pre class=\"prefixed command language-bash\">\r\n                                                                    <code>\r\n                                                                        <ol>\r\n                                                                            <li data-prefix=\"$\"><span class=\"token function\">coverage run -m pytest</span> arg1</li>\r\n                                                                        </ol>\r\n                                                                    </code>\r\n                                                                </pre>\r\n                                                            </div>\r\n                                                        </li>\r\n                                                        <li>\r\n                                                            Branch coverage\r\n                                                            <div class=\"code-toolbar\">\r\n                                                                <pre class=\"prefixed command language-bash\">\r\n                                                                    <code>\r\n                                                                        <ol>\r\n                                                                            <li data-prefix=\"$\"><span class=\"token function\">coverage run --branch -m pytest</span> accounts</li>\r\n                                                                        </ol>\r\n                                                                    </code>\r\n                                                                </pre>\r\n                                                            </div>\r\n                                                        </li>\r\n                                                    </ul>\r\n                                                </li>\r\n                                                <li>\r\n                                                    <div>Report</div>\r\n                                                    <div class=\"code-toolbar\">\r\n                                                        <pre class=\"prefixed command language-bash\">\r\n                                                            <code>\r\n                                                                <ol>\r\n                                                                    <li data-prefix=\"$\"><span class=\"token function\">coverage report</span> --include=accounts/*</li>\r\n                                                                    <li data-prefix=\"$\"><span class=\"token function\">coverage report -m</span> --include=accounts/*</li>\r\n                                                                </ol>\r\n                                                            </code>\r\n                                                        </pre>\r\n                                                    </div>\r\n                                                </li>\r\n                                                <li>\r\n                                                    <div>Html View</div>\r\n                                                    <div class=\"code-toolbar\">\r\n                                                        <pre class=\"prefixed command language-bash\">\r\n                                                            <code>\r\n                                                                <ol>\r\n                                                                    <li data-prefix=\"$\"><span class=\"token function\">coverage</span> html</li>\r\n                                                                </ol>\r\n                                                            </code>\r\n                                                        </pre>\r\n                                                    </div>\r\n                                                </li>\r\n                                                <li>\r\n                                                    <div>Erase</div>\r\n                                                    <div class=\"code-toolbar\">\r\n                                                        <pre class=\"prefixed command language-bash\">\r\n                                                            <code>\r\n                                                                <ol>\r\n                                                                    <li data-prefix=\"$\"><span class=\"token function\">coverage</span> erase</li>\r\n                                                                </ol>\r\n                                                            </code>\r\n                                                        </pre>\r\n                                                    </div>\r\n                                                </li>\r\n                                            </ol>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div class=\"block\">\r\n                                    <div class=\"heading1\">Capabilities</div>\r\n                                    <div class=\"content\">\r\n                                        <div class=\"indent\">\r\n                                            <ol class=\"contains-heading\">\r\n                                                <li>\r\n                                                    <div>\r\n                                                        By default it will\r\n                                                        measure line\r\n                                                        (statement)\r\n                                                        coverage.\r\n                                                    </div>\r\n                                                </li>\r\n                                                <li>\r\n                                                    <div>\r\n                                                        It can also measure\r\n                                                        branch coverage.\r\n                                                    </div>\r\n                                                </li>\r\n                                                <li>\r\n                                                    <div>\r\n                                                        It can tell you what\r\n                                                        tests ran on which\r\n                                                        lines.\r\n                                                    </div>\r\n                                                </li>\r\n                                                <li>\r\n                                                    <div>\r\n                                                        It can produce\r\n                                                        reports in a number\r\n                                                        of formats: text,\r\n                                                        HTML, XML, LCOV, and\r\n                                                        JSON.\r\n                                                    </div>\r\n                                                </li>\r\n                                            </ol>\r\n\r\n                                            <div class=\"explaination\">\r\n                                                <div class=\"heading1\">\r\n                                                    Branch coverage\r\n                                                </div>\r\n                                                <div class=\"block\">\r\n                                                    <div class=\"nt\">\r\n                                                        In addition to the\r\n                                                        usual statement\r\n                                                        coverage,\r\n                                                        coverage.py also\r\n                                                        supports branch\r\n                                                        coverage\r\n                                                        measurement. Where a\r\n                                                        line in your program\r\n                                                        could jump to more\r\n                                                        than one next line,\r\n                                                        coverage.py tracks\r\n                                                        which of those\r\n                                                        destinations are\r\n                                                        actually visited,\r\n                                                        and flags lines that\r\n                                                        haven't visited all\r\n                                                        of their possible\r\n                                                        destinations.\r\n                                                    </div>\r\n\r\n                                                    <div class=\"nt\">\r\n                                                        For example:\r\n                                                    </div>\r\n\r\n                                                    <div class=\"iw\">\r\n                                                        <img src=\"images/Screenshot from 2023-06-12 10-56-35.png\"\r\n                                                            alt=\"Image\" srcset=\"\" />\r\n                                                    </div>\r\n\r\n                                                    <div class=\"nt\">\r\n                                                        In this code, line 2\r\n                                                        is an if statement\r\n                                                        which can go next to\r\n                                                        either line 3 or\r\n                                                        line 4. Statement\r\n                                                        coverage would show\r\n                                                        all lines of the\r\n                                                        function as\r\n                                                        executed. But the if\r\n                                                        was never evaluated\r\n                                                        as false, so line 2\r\n                                                        never jumps to line\r\n                                                        4.\r\n                                                    </div>\r\n\r\n                                                    <div class=\"nt\">\r\n                                                        Branch coverage will\r\n                                                        flag this code as\r\n                                                        not fully covered\r\n                                                        because of the\r\n                                                        missing jump from\r\n                                                        line 2 to line 4.\r\n                                                        This is known as a\r\n                                                        partial branch.\r\n                                                    </div>\r\n\r\n                                                    <div class=\"nt\">\r\n                                                        To measure branch\r\n                                                        coverage, run\r\n                                                        coverage.py with the\r\n                                                        <span class=\"mark\">--branch</span>\r\n                                                        flag:\r\n                                                        <div class=\"code-toolbar\">\r\n                                                            <pre class=\"prefixed command language-bash\">\r\n                                                            <code>\r\n                                                                <ol>\r\n                                                                    <li data-prefix=\"$\"><span class=\"token function\">coverage run --branch</span> myprog.py</li>\r\n                                                                </ol>\r\n                                                            </code>\r\n                                                        </pre>\r\n                                                        </div>\r\n                                                    </div>\r\n\r\n                                                    <div class=\"nt\">\r\n                                                        When you report on\r\n                                                        the results with\r\n                                                        coverage report or\r\n                                                        coverage html, the\r\n                                                        percentage of branch\r\n                                                        possibilities taken\r\n                                                        will be included in\r\n                                                        the percentage\r\n                                                        covered total for\r\n                                                        each file. The\r\n                                                        coverage percentage\r\n                                                        for a file is the\r\n                                                        actual executions\r\n                                                        divided by the\r\n                                                        execution\r\n                                                        opportunities. Each\r\n                                                        line in the file is\r\n                                                        an execution\r\n                                                        opportunity, as is\r\n                                                        each branch\r\n                                                        destination.\r\n                                                    </div>\r\n                                                </div>\r\n\r\n                                                <div class=\"heading1\">\r\n                                                    How it works?\r\n                                                </div>\r\n\r\n                                                <div class=\"block\">\r\n                                                    <div class=\"nt\">\r\n                                                        When measuring\r\n                                                        branches,\r\n                                                        coverage.py collects\r\n                                                        pairs of line\r\n                                                        numbers, a source\r\n                                                        and destination for\r\n                                                        each transition from\r\n                                                        one line to another.\r\n                                                        Static analysis of\r\n                                                        the source provides\r\n                                                        a list of possible\r\n                                                        transitions.\r\n                                                        Comparing the\r\n                                                        measured to the\r\n                                                        possible indicates\r\n                                                        missing branches.\r\n                                                    </div>\r\n\r\n                                                    <div class=\"nt\">\r\n                                                        Explanation of\r\n                                                        statement coverage\r\n                                                        vs branch/decision\r\n                                                        coverage\r\n                                                    </div>\r\n\r\n                                                    <div class=\"code-toolbar\">\r\n                                                        <pre class=\"prefixed command language-bash script\"><code><span class=\"token function\">if</span> (a || b) {\r\n    test1 = true;\r\n}\r\n<span class=\"token function\">else</span> {\r\n    <span class=\"token function\">\r\n    if</span> (c) {\r\n        test2 = true;\r\n    }\r\n}</code></pre>\r\n                                                    </div>\r\n\r\n                                                    <div class=\"nt\">\r\n                                                        We have two\r\n                                                        statements here -\r\n                                                        <span class=\"mark\">if(a||b) and\r\n                                                            if(c)</span>\r\n                                                        , to fully explain\r\n                                                        those coverage\r\n                                                        differences\r\n\r\n                                                        <ol>\r\n                                                            <li>\r\n                                                                <div>\r\n                                                                    statement\r\n                                                                    coverage\r\n                                                                    have to\r\n                                                                    test\r\n                                                                    each\r\n                                                                    statement\r\n                                                                    at least\r\n                                                                    once, so\r\n                                                                    we need\r\n                                                                    just two\r\n                                                                    tests\r\n                                                                </div>\r\n                                                                <ul>\r\n                                                                    <li>\r\n                                                                        <span class=\"mark\">a=true\r\n                                                                            b=false</span>\r\n                                                                        that\r\n                                                                        gives\r\n                                                                        us\r\n                                                                        path\r\n                                                                        <span class=\"mark\">if\r\n                                                                            (a||b)\r\n                                                                            true</span>\r\n                                                                        makes\r\n                                                                        <span class=\"mark\">test1\r\n                                                                            =\r\n                                                                            true</span>\r\n                                                                    </li>\r\n                                                                    <li>\r\n                                                                        <span class=\"mark\">a=false,\r\n                                                                            b=false</span>\r\n                                                                        and\r\n                                                                        <span class=\"mark\">c=true</span>\r\n                                                                        that\r\n                                                                        gives\r\n                                                                        us\r\n                                                                        path:\r\n                                                                        <span class=\"mark\">if(a||b)\r\n                                                                            false</span>\r\n                                                                        makes\r\n                                                                        <span class=\"mark\">else\r\n                                                                            ->\r\n                                                                            if(c)\r\n                                                                            ->\r\n                                                                            test2=true</span>\r\n                                                                    </li>\r\n                                                                </ul>\r\n                                                                <div>\r\n                                                                    This way\r\n                                                                    we\r\n                                                                    executed\r\n                                                                    each and\r\n                                                                    every\r\n                                                                    statement.\r\n                                                                </div>\r\n                                                            </li>\r\n                                                            <li>\r\n                                                                <div>\r\n                                                                    branch/decision\r\n                                                                    coverage\r\n                                                                    needs\r\n                                                                    one more\r\n                                                                    test\r\n                                                                </div>\r\n                                                                <ul>\r\n                                                                    <li>\r\n                                                                        <span class=\"mark\">a=false,\r\n                                                                            b=false,\r\n                                                                            c=false</span>\r\n                                                                        makes\r\n                                                                        that\r\n                                                                        leads\r\n                                                                        us\r\n                                                                        to\r\n                                                                        that\r\n                                                                        second\r\n                                                                        if\r\n                                                                        but\r\n                                                                        we\r\n                                                                        are\r\n                                                                        executing\r\n                                                                        false\r\n                                                                        branch\r\n                                                                        from\r\n                                                                        that\r\n                                                                        statement,\r\n                                                                        that\r\n                                                                        wasn't\r\n                                                                        executed\r\n                                                                        in\r\n                                                                        statement\r\n                                                                        coverage\r\n                                                                    </li>\r\n                                                                </ul>\r\n                                                                <div>\r\n                                                                    That way\r\n                                                                    we have\r\n                                                                    all the\r\n                                                                    branches\r\n                                                                    tested,\r\n                                                                    meaning\r\n                                                                    we went\r\n                                                                    through\r\n                                                                    all the\r\n                                                                    paths.\r\n                                                                </div>\r\n                                                            </li>\r\n                                                        </ol>\r\n                                                    </div>\r\n                                                    <div class=\"nt\">\r\n                                                        If you have\r\n                                                        excluded code, a\r\n                                                        conditional will\r\n                                                        not be counted\r\n                                                        as a branch if\r\n                                                        one of its\r\n                                                        choices is\r\n                                                        excluded:\r\n                                                    </div>\r\n\r\n                                                    <div class=\"iw\">\r\n                                                        <img src=\"images/Screenshot from 2023-06-12 11-18-48.png\"\r\n                                                            alt=\"Image\" srcset=\"\" />\r\n                                                    </div>\r\n\r\n                                                    <div class=\"nt\">\r\n                                                        Because the else\r\n                                                        clause is\r\n                                                        excluded, the if\r\n                                                        only has one\r\n                                                        possible next\r\n                                                        line, so it\r\n                                                        isnâ€™t considered\r\n                                                        a branch at all.\r\n                                                    </div>\r\n\r\n                                                    <div class=\"nt\">\r\n                                                        Other example to\r\n                                                        structurally\r\n                                                        partial branch:\r\n                                                    </div>\r\n\r\n                                                    <div class=\"iw\">\r\n                                                        <img src=\"images/Screenshot from 2023-06-12 11-20-21.png\"\r\n                                                            alt=\"Image\" srcset=\"\" />\r\n                                                    </div>\r\n\r\n                                                    <div class=\"note\">\r\n                                                        Note: 100%\r\n                                                        branch coverage\r\n                                                        <span class=\"mark\">implies</span>\r\n                                                        100% statement\r\n                                                        coverage but\r\n                                                        100% statement\r\n                                                        coverage\r\n                                                        <span class=\"mark\">does not\r\n                                                            imply</span>\r\n                                                        100% branch\r\n                                                        coverage\r\n                                                    </div>\r\n                                                </div>\r\n\r\n                                                <div class=\"heading1\">\r\n                                                    It can tell you what tests ran on which lines\r\n                                                </div>\r\n\r\n                                                <div class=\"block\">\r\n                                                    <div class=\"nt\">\r\n                                                        When measuring\r\n                                                        branches,\r\n                                                        coverage.py collects\r\n                                                        pairs of line\r\n                                                        numbers, a source\r\n                                                        and destination for\r\n                                                        each transition from\r\n                                                        one line to another.\r\n                                                        Static analysis of\r\n                                                        the source provides\r\n                                                        a list of possible\r\n                                                        transitions.\r\n                                                        Comparing the\r\n                                                        measured to the\r\n                                                        possible indicates\r\n                                                        missing branches.\r\n                                                    </div>\r\n\r\n                                                    <div class=\"nt\">\r\n                                                        use\r\n                                                        <span class=\"mark\">--dynamic_context\r\n                                                            =\r\n                                                            test_function</span>\r\n                                                        OR write in\r\n                                                        <span class=\"mark\">.coveragerc</span>\r\n                                                        file\r\n                                                        <div class=\"code-toolbar\">\r\n                                                            <pre class=\"prefixed command language-bash script\"><code>[run]\r\ndynamic_context = test_function</code></pre>\r\n                                                        </div>\r\n                                                        Then, we can\r\n                                                        use\r\n\r\n                                                        <div class=\"code-toolbar\">\r\n                                                            <pre class=\"prefixed command language-bash\">\r\n                                                                <code>\r\n                                                                    <ol>\r\n                                                                        <li data-prefix=\"$\"><span class=\"token function\">coverage html</span> --show-contexts</li>\r\n                                                                    </ol>\r\n                                                                </code>\r\n                                                            </pre>\r\n                                                        </div>\r\n                                                    </div>\r\n\r\n                                                    <div class=\"nt\">\r\n                                                        Example\r\n\r\n                                                        <div class=\"iw\">\r\n                                                            <img src=\"images/Screenshot from 2023-06-12 11-26-15.png\"\r\n                                                                alt=\"Image\" srcset=\"\" />\r\n                                                        </div>\r\n\r\n                                                        <div class=\"iw\">\r\n                                                            <img src=\"images/Screenshot from 2023-06-12 11-26-57.png\"\r\n                                                                alt=\"Image\" srcset=\"\" />\r\n                                                        </div>\r\n\r\n\r\n                                                    </div>\r\n\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div class=\"block\">\r\n                                    <div class=\"heading1\">\r\n                                        Working of Coverage\r\n                                    </div>\r\n                                    <div class=\"content\">\r\n                                        <div class=\"indent\">\r\n                                            <div class=\"nt\">\r\n                                                <ul>\r\n                                                    <li>When running your code, the coverage run command will by default\r\n                                                        measure all code, unless it is part of the Python standard\r\n                                                        library</li>\r\n                                                    <li>First when <span class=\"mark\">coverage run -m pytest</span> is\r\n                                                        executed, pytest will run\r\n                                                        all test cases according to <span class=\"mark\">pytest.ini</span>\r\n                                                        configuration. If\r\n                                                        <span class=\"mark\">pytest</span> with some arguments passed then\r\n                                                        it will run only for\r\n                                                        those files/packages.\r\n                                                    </li>\r\n                                                    <li>Now, while pytest is executing, coverage will store measure\r\n                                                        according to configs written in <span\r\n                                                            class=\"mark\">.coveragerc</span> files.</li>\r\n                                                </ul>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div class=\"block\">\r\n                                    <div class=\"heading1\">\r\n                                        Configurations\r\n                                    </div>\r\n                                    <div class=\"content\">\r\n                                        <div class=\"indent\">\r\n                                            <div class=\"nt\">\r\n                                                It can be specified in command line or inside .coveragerc file\r\n                                            </div>\r\n                                            <ol class=\"contains-heading\">\r\n                                                <li>\r\n                                                    <div>\r\n                                                        source\r\n                                                    </div>\r\n                                                </li>\r\n                                                <li>\r\n                                                    <div>\r\n                                                        include\r\n                                                    </div>\r\n                                                </li>\r\n                                                <li>\r\n                                                    <div>\r\n                                                        omit\r\n                                                    </div>\r\n                                                </li>\r\n                                            </ol>\r\n\r\n                                            <div class=\"explaination\">\r\n                                                <div class=\"heading1\">\r\n                                                    Source\r\n                                                </div>\r\n                                                <div class=\"block\">\r\n                                                    <div class=\"nt\">\r\n                                                        You can specify source to measure with the <span\r\n                                                            class=\"mark\">--source</span> command-line switch, or the\r\n                                                        <span class=\"mark\">[run]</span> source configuration value. The\r\n                                                        value is a comma- or newline-separated list of directories or\r\n                                                        importable names (packages or modules).\r\n                                                    </div>\r\n\r\n                                                    <div class=\"nt\">\r\n                                                        Example:\r\n\r\n                                                        <div class=\"code-toolbar\">\r\n                                                            <pre class=\"prefixed command language-bash\">\r\n                                                                <code>\r\n                                                                    <ol>\r\n                                                                        <li data-prefix=\"$\"><span class=\"token function\">coverage run</span> --source=accounts <span class=\"token function\">-m pytest</span></li>\r\n                                                                    </ol>\r\n                                                                </code>\r\n                                                            </pre>\r\n                                                        </div>\r\n\r\n                                                        OR In <span class=\"mark\">.coveragerc</span> file like this\r\n\r\n\r\n                                                    </div>\r\n\r\n                                                    <div class=\"iw\">\r\n                                                        <img src=\"images/Screenshot from 2023-06-12 12-50-52.png\"\r\n                                                            alt=\"Image\" srcset=\"\" />\r\n                                                    </div>\r\n\r\n                                                    <div class=\"nt\">\r\n                                                        Then if you check report\r\n                                                        <div class=\"code-toolbar\">\r\n                                                            <pre class=\"prefixed command language-bash\">\r\n                                                                <code>\r\n                                                                    <ol>\r\n                                                                        <li data-prefix=\"$\"><span class=\"token function\">coverage</span> report</li>\r\n                                                                        <li data-prefix=\"$\"><span class=\"token function\">coverage</span> html</li>\r\n                                                                    </ol>\r\n                                                                </code>\r\n                                                            </pre>\r\n                                                        </div>\r\n                                                    </div>\r\n\r\n                                                    <div class=\"nt\">\r\n                                                        Output for <span class=\"mark\">coverage report</span>\r\n\r\n                                                        <div class=\"iw\">\r\n                                                            <img src=\"images/Screenshot from 2023-06-12 12-52-50.png\"\r\n                                                                alt=\"Image\" srcset=\"\" />\r\n                                                        </div>\r\n\r\n                                                    </div>\r\n\r\n                                                    <div class=\"nt\">\r\n                                                        Output for <span class=\"mark\">coverage html</span>\r\n\r\n                                                        <div class=\"iw\">\r\n                                                            <img src=\"images/Screenshot from 2023-06-12 12-54-00.png\"\r\n                                                                alt=\"Image\" srcset=\"\" />\r\n                                                        </div>\r\n\r\n                                                    </div>\r\n\r\n                                                    <div class=\"nt\">\r\n                                                        <b>Example explanation</b>: If we execute the <span\r\n                                                            class=\"mark\">pytest</span> command with\r\n                                                        accounts, orders and restaurant apps. And <span\r\n                                                            class=\"mark\">.coveragerc</span> file have\r\n                                                        source attribute with value <span class=\"mark\">accounts</span>.\r\n                                                        Then pytest will run for\r\n                                                        all test cases for accounts, orders and restaurants but will\r\n                                                        only measure for accounts and store its information in the\r\n                                                        <span class=\"mark\">.coverage</span> database.\r\n                                                    </div>\r\n\r\n                                                    <div class=\"nt\">\r\n                                                        After we run coverage run command, we can use coverage report\r\n                                                        command to see what has been detected and how much coverage is\r\n                                                        covered. Here, we will only find files related to accounts as we\r\n                                                        defined <span class=\"mark\">source</span> attribute for coverage\r\n                                                        config as accounts.\r\n                                                    </div>\r\n\r\n                                                </div>\r\n\r\n                                                <div class=\"heading1\">\r\n                                                    Include\r\n                                                </div>\r\n\r\n                                                <div class=\"block\">\r\n                                                    <div class=\"nt\">\r\n                                                        <span class=\"mark\">--includeis</span> a list of file name\r\n                                                        patterns.\r\n                                                    </div>\r\n                                                    <div class=\"nt\">\r\n                                                        If specified, only files matching those patterns will be\r\n                                                        measured.\r\n                                                    </div>\r\n\r\n                                                    <div class=\"nt\">\r\n                                                        <b>Example</b>\r\n                                                        <div class=\"code-toolbar\">\r\n                                                            <pre class=\"prefixed command language-bash\">\r\n                                                                <code>\r\n                                                                    <ol>\r\n                                                                        <li data-prefix=\"$\"><span class=\"token function\">coverage run </span> --include=accounts/*,restaurant/* <span class=\"token function\">-m pytest</span></li>\r\n                                                                    </ol>\r\n                                                                </code>\r\n                                                            </pre>\r\n                                                        </div>\r\n\r\n                                                        OR In <span class=\"mark\">.coveragerc</span> file like this\r\n\r\n                                                    </div>\r\n\r\n                                                    <div class=\"iw\">\r\n                                                        <img src=\"images/Screenshot from 2023-06-12 12-57-51.png\"\r\n                                                            alt=\"Image\" srcset=\"\" />\r\n                                                    </div>\r\n\r\n                                                    <div class=\"nt\">\r\n                                                        Then if you check report\r\n                                                        <div class=\"code-toolbar\">\r\n                                                            <pre class=\"prefixed command language-bash\">\r\n                                                                <code>\r\n                                                                    <ol>\r\n                                                                        <li data-prefix=\"$\"><span class=\"token function\">coverage</span> report</li>\r\n                                                                        <li data-prefix=\"$\"><span class=\"token function\">coverage</span> html</li>\r\n                                                                    </ol>\r\n                                                                </code>\r\n                                                            </pre>\r\n                                                        </div>\r\n                                                    </div>\r\n\r\n                                                    <div class=\"nt\">\r\n                                                        Output for <span class=\"mark\">coverage report</span>\r\n\r\n                                                        <div class=\"iw\">\r\n                                                            <img src=\"images/Screenshot from 2023-06-12 12-59-02.png\"\r\n                                                                alt=\"Image\" srcset=\"\" />\r\n                                                        </div>\r\n\r\n                                                    </div>\r\n\r\n                                                    <div class=\"nt\">\r\n                                                        Output for <span class=\"mark\">coverage html</span>\r\n\r\n                                                        <div class=\"iw\">\r\n                                                            <img src=\"images/Screenshot from 2023-06-12 12-59-39.png\"\r\n                                                                alt=\"Image\" srcset=\"\" />\r\n                                                        </div>\r\n\r\n                                                    </div>\r\n\r\n\r\n                                                </div>\r\n\r\n                                                <div class=\"heading1\">\r\n                                                    Omit\r\n                                                </div>\r\n\r\n                                                <div class=\"block\">\r\n                                                    <div class=\"nt\">\r\n                                                        <span class=\"mark\">--omit</span> is also a list of file name\r\n                                                        patterns, specifying files not to measure.\r\n                                                    </div>\r\n                                                    <div class=\"nt\">\r\n                                                        If both include and omit are specified, first the set of files\r\n                                                        is reduced to only those that match the include patterns, then\r\n                                                        any files that match the omit pattern are removed from the set.\r\n                                                    </div>\r\n\r\n                                                    <div class=\"nt\">\r\n                                                        <b>Example</b>\r\n                                                        <div class=\"code-toolbar\">\r\n                                                            <pre class=\"prefixed command language-bash\">\r\n                                                                <code>\r\n                                                                    <ol>\r\n                                                                        <li data-prefix=\"$\"><span class=\"token function\">coverage run </span> --omit=*migrations/*,manage.py <span class=\"token function\">-m pytest</span></li>\r\n                                                                    </ol>\r\n                                                                </code>\r\n                                                            </pre>\r\n                                                        </div>\r\n\r\n                                                        OR In <span class=\"mark\">.coveragerc</span> file like this\r\n\r\n                                                    </div>\r\n\r\n                                                    <div class=\"iw\">\r\n                                                        <img src=\"images/Screenshot from 2023-06-12 13-02-26.png\"\r\n                                                            alt=\"Image\" srcset=\"\" />\r\n                                                    </div>\r\n                                                </div>\r\n\r\n\r\n                                                <div class=\"note\">\r\n                                                    Note\r\n                                                    <ul>\r\n                                                        <li>The source, include, and omit values all work together to\r\n                                                            determine the source that will be measured.</li>\r\n                                                        <li>If both source and include are set, the include value is\r\n                                                            ignored and a warning is issued.</li>\r\n                                                        <li>Difference between source and include:</li>\r\n                                                        <ol>\r\n                                                            <li>Argument source takes a list of directories or\r\n                                                                importable names (packages or modules) as values while\r\n                                                                Argument include takes a list of file name patterns.\r\n                                                            </li>\r\n                                                            <li>Source will include all files inside provided\r\n                                                                directories or packages while include will search for\r\n                                                                matching patterns from all files path.</li>\r\n                                                            <li>If both source and include are provided, then source\r\n                                                                takes the priority and include is</li>\r\n                                                        </ol>\r\n                                                    </ul>\r\n                                                </div>\r\n\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div class=\"block\">\r\n                                    <div class=\"heading1\">Reporting</div>\r\n                                    <div class=\"content\">\r\n                                        <div class=\"indent\">\r\n                                            <div class=\"nt\">\r\n                                                Remember that the reporting commands can only report on the data that\r\n                                                has been collected, so the data youâ€™re looking for may not be in the\r\n                                                data available for reporting.\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div class=\"block\">\r\n                                    <div class=\"heading1\">File Pattern</div>\r\n                                    <div class=\"content\">\r\n                                        <div class=\"indent\">\r\n                                            <div class=\"nt\">\r\n                                                This is used in include and omit only and not for source:\r\n\r\n                                                <ul>\r\n                                                    <li><span class=\"mark\">*</span> matches any number of file name\r\n                                                        characters, not including the directory separator.</li>\r\n                                                    <li><span class=\"mark\">?</span> matches a single file name\r\n                                                        character.</li>\r\n                                                    <li><span class=\"mark\">**</span> matches any number of nested\r\n                                                        directory names, including none.</li>\r\n                                                    <li>Both <span class=\"mark\">/</span> and <span class=\"mark\">\\</span>\r\n                                                        will match either a slash or a backslash, to make cross-platform\r\n                                                        matching easier.</li>\r\n                                                </ul>\r\n                                            </div>\r\n\r\n                                            <div class=\"note\">\r\n                                                Reference: <a\r\n                                                    href=\"https://coverage.readthedocs.io/en/7.0.0b1/source.html#source-glob\">https://coverage.readthedocs.io/en/7.0.0b1/source.html#source-glob</a>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div class=\"block\">\r\n                                    <div class=\"heading1\">\r\n                                        Excluding code from coverage\r\n                                    </div>\r\n                                    <div class=\"content\">\r\n                                        <div class=\"indent\">\r\n                                            <div class=\"nt\">\r\n                                                To exclude specific code from file, we add comment `#pragma: no cover`\r\n                                                to the line. It will auto detect if the statement is a line or block of\r\n                                                code and ignore the whole line or block of code.\r\n                                            </div>\r\n\r\n                                            <div class=\"iw\">\r\n                                                <img src=\"images/Screenshot from 2023-06-12 13-40-34.png\" alt=\"Image\"\r\n                                                    srcset=\"\" />\r\n                                            </div>\r\n\r\n\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div class=\"block\">\r\n                                    <div class=\"heading1\">\r\n                                        Example: Statement coverage VS\r\n                                        Branch coverage\r\n                                    </div>\r\n                                    <div class=\"content\">\r\n                                        <div class=\"indent\">\r\n\r\n                                            <div class=\"explaination\">\r\n                                                <div class=\"block\">\r\n\r\n                                                    <div>\r\n                                                        <div class=\"nt\">\r\n                                                            <b>Case 1</b>: I have written a test case for blocked users\r\n                                                            as\r\n                                                            well as for unblock users.\r\n                                                        </div>\r\n\r\n                                                        <div class=\"nt\">\r\n                                                            Without branch flag\r\n                                                        </div>\r\n\r\n                                                        <div class=\"iw\">\r\n                                                            <img src=\"images/Screenshot from 2023-06-12 13-42-30.png\"\r\n                                                                alt=\"Image\" srcset=\"\" />\r\n                                                        </div>\r\n\r\n                                                        <div class=\"divider\"></div>\r\n\r\n                                                        <div class=\"nt\">\r\n                                                            With branch flag\r\n                                                        </div>\r\n\r\n                                                        <div class=\"iw\">\r\n                                                            <img src=\"images/Screenshot from 2023-06-12 13-43-23.png\"\r\n                                                                alt=\"Image\" srcset=\"\" />\r\n                                                        </div>\r\n                                                    </div>\r\n\r\n\r\n\r\n                                                </div>\r\n                                            </div>\r\n\r\n                                            <div class=\"explaination\">\r\n                                                <div class=\"block\">\r\n                                                    <div>\r\n                                                        <div class=\"nt\">\r\n                                                            <b>Case 2</b>: I have written a test case for unblock users\r\n                                                            but not written for block users.\r\n                                                        </div>\r\n\r\n                                                        <div class=\"nt\">\r\n                                                            Without branch flag\r\n                                                        </div>\r\n\r\n                                                        <div class=\"iw\">\r\n                                                            <img src=\"images/Screenshot from 2023-06-12 13-44-30.png\"\r\n                                                                alt=\"Image\" srcset=\"\" />\r\n                                                        </div>\r\n\r\n                                                        <div class=\"iw\">\r\n                                                            <img src=\"images/Screenshot from 2023-06-12 13-45-10.png\"\r\n                                                                alt=\"Image\" srcset=\"\" />\r\n                                                        </div>\r\n\r\n                                                        <div class=\"divider\"></div>\r\n\r\n                                                        <div class=\"nt\">\r\n                                                            With branch flag\r\n                                                        </div>\r\n\r\n                                                        <div class=\"iw\">\r\n                                                            <img src=\"images/Screenshot from 2023-06-12 13-45-44.png\"\r\n                                                                alt=\"Image\" srcset=\"\" />\r\n                                                        </div>\r\n                                                        <div class=\"iw\">\r\n                                                            <img src=\"images/Screenshot from 2023-06-12 13-46-13.png\"\r\n                                                                alt=\"Image\" srcset=\"\" />\r\n                                                        </div>\r\n\r\n                                                    </div>\r\n\r\n\r\n                                                </div>\r\n                                            </div>\r\n\r\n\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div class=\"block\">\r\n                                    <div class=\"heading1\">\r\n                                        Conclusion\r\n                                    </div>\r\n                                    <div class=\"content\">\r\n                                        <div class=\"indent\">\r\n\r\n                                            <div class=\"nt\">\r\n                                                The outcomes of this blog on code coverage can be summarized as follows:\r\n\r\n                                                <ol>\r\n                                                    <li>\r\n                                                        <b>Understanding Code Coverage: </b>Readers will gain a clear\r\n                                                        understanding of what code coverage is and why it is important\r\n                                                        in software development. They will grasp the concept of\r\n                                                        measuring the effectiveness of tests by determining which parts\r\n                                                        of the code are being executed.\r\n                                                    </li>\r\n\r\n                                                    <li>\r\n                                                        <b>Introduction to coverage.py: </b>The blog introduces\r\n                                                        coverage.py as a popular tool for measuring code coverage in\r\n                                                        Python. Readers will learn how to install and use coverage.py,\r\n                                                        including running tests, generating reports, and configuring\r\n                                                        coverage measurement.\r\n\r\n\r\n                                                    </li>\r\n\r\n                                                    <li>\r\n                                                        <b>Differentiating Statement and Branch Coverage: </b>The blog\r\n                                                        explains the difference between statement coverage and branch\r\n                                                        coverage. Readers will understand that statement coverage\r\n                                                        focuses on executing each line of code at least once, while\r\n                                                        branch coverage goes further by tracking which branches or\r\n                                                        decision points have been taken.\r\n\r\n\r\n                                                    </li>\r\n\r\n                                                    <li>\r\n                                                        <b>Working and Capabilities of Coverage.py: </b>Readers will\r\n                                                        gain insights into how coverage.py works under the hood. They\r\n                                                        will learn about the collection of line numbers and transitions\r\n                                                        between lines, as well as static analysis to identify possible\r\n                                                        transitions. The blog also highlights the capabilities of\r\n                                                        coverage.py, such as reporting in various formats and providing\r\n                                                        information about tests run on specific lines.\r\n                                                    </li>\r\n\r\n                                                    <li>\r\n                                                        <b>Excluding Code and Reporting: </b>The blog covers important\r\n                                                        aspects of code coverage, including how to exclude specific code\r\n                                                        from coverage measurement using comments. It also explains the\r\n                                                        reporting options available in coverage.py and provides guidance\r\n                                                        on configuring file patterns for inclusion and exclusion.\r\n                                                    </li>\r\n\r\n                                                </ol>\r\n\r\n                                                <div class=\"nt\">\r\n                                                    To measure code coverage in Python, the coverage.py tool can be\r\n                                                    used. It provides several capabilities such as measuring statement\r\n                                                    coverage and branch coverage. Statement coverage measures which\r\n                                                    lines of code have been executed, while branch coverage goes a step\r\n                                                    further by tracking which branches or decision points within the\r\n                                                    code have been taken.\r\n                                                </div>\r\n                                                <div class=\"nt\">\r\n                                                    Overall, code coverage is a crucial metric for assessing the\r\n                                                    thoroughness of test suites and ensuring that critical parts of the\r\n                                                    code are adequately tested. By utilizing coverage.py and its\r\n                                                    features, developers can gain insights into the effectiveness of\r\n                                                    their tests, improve code quality, and identify areas that require\r\n                                                    further testing.\r\n                                                </div>\r\n                                            </div>\r\n\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>", "created_at": "2023-06-19T08:49:35.123Z", "updated_at": "2023-06-19T08:49:35.123Z", "categories": [1, 2, 3, 4]}}]